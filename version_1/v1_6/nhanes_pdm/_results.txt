Healthy Neighborhoods Project: Using Ecological Data to Improve Community Health
Neville Subproject: Using Random Forestes, Factor Analysis, and Logistic regression to Screen Variables for Imapcts on Public Health
NHANES 2015-2016: Detecting different factors between individuals with a BMI over 30 and are between 40 and 70 that have pre-diabates and have diabetes
The Python Programming Langauge Script by DrewC!


Factor Analysis Results: Prediabetes Subcohort

Kaiser-Meyer-Olkin Test
0.6450032987495816

Raw Eigenvalues
           0          1         2         3         4         5         6         7         8         9        10        11        12        13        14        15        16        17        18        19        20        21        22        23       24        25        26       27        28  29  30  31  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99  100  101  102  103  104  105  106  107  108  109  110  111  112  113  114  115  116  117  118  119  120
0  20.988623  12.633453  7.158887  5.699169  4.671995  4.256477  3.868587  3.061194  3.031976  2.687521  2.468155  2.358608  2.295420  2.021663  1.923071  1.901090  1.848209  1.703077  1.586164  1.486465  1.429809  1.337454  1.290701  1.240805  1.14748  1.096033  1.065036  1.04977  1.016955 NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN
1  20.526093  12.077335  6.604365  5.034715  3.972122  3.426789  3.115927  2.332441  2.235801  1.910218  1.730810  1.568966  1.430544  1.259083  1.158151  1.082407  1.050754       NaN       NaN       NaN       NaN       NaN       NaN       NaN      NaN       NaN       NaN      NaN       NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN

Factor Loadings
      Features  Factors  Loadings
1223    MCQ203       16  0.512938
66      AUQ146       15  1.105960
1086   MCQ160D       15  0.912879
1289   MCQ300C       14  0.746396
1272   MCQ300B       14  0.854866
1255   MCQ300A       14  0.986980
1594    OHQ850       13  0.891830
1118   MCQ160F       13  0.866597
2034    SMQ874       11  0.580280
27      AUQ136       10  0.731013
1064   MCQ160C       10  0.718396
1385   MCQ370B        8  0.656512
807     HUQ020        8  0.555471
1742    PAQ650        8  0.595602
1759    PAQ665        8  0.522913
1520    OHQ640        7  0.603544
1672  OHDRCSTS        6  1.029829
1638  OHDEXSTS        6  1.029829
1655  OHDDESTS        6  1.029829
1943    SMQ910        5  0.740638
1909    SMQ890        5  0.699036
345   DMQMILIZ        5  0.585531
277   RIAGENDR        5  0.991845
1228    MCQ220        4  0.728868
1619    OHQ880        4  0.568302
139     BPQ080        3  0.675554
207     DBQ229        3  0.639898
1771    PAD680        3  0.808624
1839    PFQ057        3  0.710169
1193   MCQ160O        3  0.923272
1397   MCQ370C        3  0.906105
1414   MCQ370D        3  0.906388
1363   MCQ370A        3  0.911508
1345   MCQ365D        2  1.049042
1294   MCQ365A        2  1.028003
1328   MCQ365C        2  0.758270
121     BPQ020        2  0.503925
971     MCQ080        2  0.826998
1311   MCQ365B        2  0.983507
766     HIQ011        1  0.577542
239     CBQ505        1  0.576613
409    SIALANG        1  0.892914
2041    SMQ878        1  0.509874
868     IMQ011        1  0.582721
885     IMQ020        1  0.558670
1530    OHQ680        0  0.676232
1819    PFQ054        0  0.856524
1003   MCQ160A        0  0.570249
153     CDQ001        0  0.681089
1921    SMQ900        0  0.646776
170     CDQ010        0  0.770699
1887    SMQ020        0  0.508856
1870    SLQ050        0  0.693469
1853    PFQ090        0  0.838366
1802    PFQ051        0  0.952146
850     HUQ090        0  0.667830
1785    PFQ049        0  0.980983
1462   OCD390G        0  0.667159
646     DLQ020        0  0.553397
1496    OHQ620        0  0.561029
680     DLQ050        0  0.907739
697     DLQ060        0  0.818210
714     DLQ080        0  0.905321
663     DLQ040        0  0.842579


Factor Analysis Results: Diabetes Subcohort

Kaiser-Meyer-Olkin Test
0.5513272237021398
Raw Eigenvalues
           0          1         2         3         4         5         6         7         8         9        10        11        12        13        14        15        16        17        18        19      20        21        22        23        24        25       26        27        28        29        30        31  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99  100  101  102  103  104  105  106  107  108  109  110  111  112  113  114  115  116  117  118  119  120  121  122  123  124  125  126  127  128  129  130  131  132  133  134  135  136  137  138  139  140  141  142
0  23.350532  18.894230  8.095184  6.387459  5.753366  4.443494  4.336105  4.004545  3.644154  3.215403  2.982389  2.679982  2.613283  2.338657  2.247575  2.220080  2.119035  1.940006  1.864443  1.802752  1.7141  1.611706  1.604589  1.518893  1.427685  1.309737  1.25083  1.219218  1.148004  1.090336  1.053589  1.020842 NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN
1  22.887704  18.388479  7.551607  5.581129  5.014856  3.752207  3.578594  3.201767  2.927741  2.435126  2.260143  1.969671  1.825549  1.561066  1.507744  1.468009  1.372600  1.179103  1.148906  1.019681     NaN       NaN       NaN       NaN       NaN       NaN      NaN       NaN       NaN       NaN       NaN       NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN
Factor Loadings
      Features  Factors  Loadings
2479    PAQ620       19  0.660799
2159    OSQ230       19  0.502113
2838    SMQ874       18  0.629654
936   DMDHHSIZ       16  0.925178
956   DMDFMSIZ       16  0.922915
1554    KIQ026       14  0.888011
1734   MCQ160D       14  0.880896
1334    HEQ010       14  0.523958
1872   MCQ160O       12  1.035665
1792   MCQ160G       12  1.052195
1491    IMQ011       11  0.594071
2111   MCQ370C       11  0.619680
2091   MCQ370B       11  0.522926
1171    DLQ040       11  0.506805
2071   MCQ370A       11  0.860566
1511    IMQ020       11  0.583115
1350    HEQ030       10  0.908759
1330    HEQ010       10  1.021282
549   LBDBCRSI        9  1.085064
529     LBXBCR        9  1.085066
2268    OHQ680        8  0.850536
2248    OHQ640        8  0.854999
2228    OHQ620        8  0.926906
2327    OHQ850        7  0.568943
1927   MCQ300A        7  0.750146
1967   MCQ300C        7  0.578794
1527    KIQ022        7  0.927099
206   LBXLYPCT        6  0.950487
2405  OHDDESTS        5  1.123026
2425  OHDRCSTS        5  1.123026
2385  OHDEXSTS        5  1.123026
1284    DLQ140        4  0.737732
1464    HUQ090        4  0.553867
1304    DLQ150        4  0.837790
1264    DLQ110        4  0.868847
1244    DLQ100        4  0.813460
2123   MCQ370D        3  0.566102
2023   MCQ365C        3  0.756749
2043   MCQ365D        3  0.972227
1983   MCQ365A        3  0.946980
1603    MCQ080        3  0.690903
2003   MCQ365B        3  0.969908
422     LBXRDW        2  1.062035
702   RIAGENDR        2  0.567413
442   LBXPLTSI        2  0.960587
2681    SMQ890        1  0.528282
2721    SMQ910        1  0.561855
2801    SMQ870        1  0.743956
2361    OHQ880        1  0.663654
1601    MCQ080        1  0.511195
881    SIALANG        1  1.041726
821   DMDCITZN        1  0.954561
661     CBQ505        1  0.833787
681     CBQ550        1  0.616585
781   DMQMILIZ        1  0.558365
801   DMDBORN4        1  0.918429
2841    SMQ878        1  0.778796
1220    DLQ080        0  0.966405
1200    DLQ060        0  0.884026
480     CDQ001        0  0.673459
1640   MCQ160A        0  0.611010
1580    MCQ053        0  0.534674
1560    MCQ010        0  0.536505
2640    SLQ050        0  0.591583
2620    PFQ090        0  0.885424
2600    PFQ057        0  0.841001
2580    PFQ054        0  0.940344
2560    PFQ051        0  0.880934
2540    PFQ049        0  0.952712
1460    HUQ090        0  0.504372
1440    HUQ071        0  0.638079
1680   MCQ160B        0  0.713306
1100    DIQ050        0  0.613627
1140    DLQ020        0  0.571512
1160    DLQ040        0  0.661964
1180    DLQ050        0  0.946346
1760   MCQ160F        0  0.595935


Random Forest Results


Random Forest
RandomForestClassifier(bootstrap=True, class_weight=None, criterion='gini',
                       max_depth=10, max_features='auto', max_leaf_nodes=None,
                       min_impurity_decrease=0.0, min_impurity_split=None,
                       min_samples_leaf=1, min_samples_split=2,
                       min_weight_fraction_leaf=0.0, n_estimators=1000,
                       n_jobs=None, oob_score=False, random_state=None,
                       verbose=0, warm_start=False)

Gini Rankings
   Features      Gini  Factors  Loadings
0    PAD680  0.027316        3  0.808624
1    BPQ020  0.014713        2  0.503925
2   MCQ300C  0.013389       14  0.746396
3   MCQ365D  0.012632        2  1.049042
4   MCQ365A  0.012095        2  1.028003
5    OHQ680  0.011900        0  0.676232
6    OHQ620  0.011585        0  0.561029
7    BPQ080  0.010897        3  0.675554
8    DBQ229  0.010413        3  0.639898
9    IMQ011  0.010030        1  0.582721
10   IMQ020  0.008991        1  0.558670
11  MCQ365B  0.008873        2  0.983507
12  MCQ365C  0.008559        2  0.758270
13   HUQ020  0.008528        8  0.555471

Features Selected
   Features      Gini  Factors  Loadings
0    PAD680  0.027316        3  0.808624
1    BPQ020  0.014713        2  0.503925
2   MCQ300C  0.013389       14  0.746396
3   MCQ365D  0.012632        2  1.049042
4   MCQ365A  0.012095        2  1.028003
5    OHQ680  0.011900        0  0.676232
6    OHQ620  0.011585        0  0.561029
7    BPQ080  0.010897        3  0.675554
8    DBQ229  0.010413        3  0.639898
9    IMQ011  0.010030        1  0.582721
10   IMQ020  0.008991        1  0.558670
11  MCQ365B  0.008873        2  0.983507
12  MCQ365C  0.008559        2  0.758270
13   HUQ020  0.008528        8  0.555471

Regression Results


Recursive Feature Selection
['MCQ300C', 'MCQ365D', 'MCQ365A', 'MCQ365B', 'MCQ365C']
Logisitc Regression
[[ 0.10277039  0.52455731  0.35569643  0.1704394   0.11541131]
 [ 0.02077245 -0.13615648 -0.01443668 -0.07667215 -0.02079281]
 [-0.30829503 -0.59271539 -0.44211266 -0.14680526 -0.12159366]]
 R sq = 0.648989898989899

Risk Score Multiplier
  Question  Multipliers
0  MCQ300C        -20.1
1  MCQ365D        -45.5
2  MCQ365A        -33.2
3  MCQ365B        -10.0
4  MCQ365C         -6.1

